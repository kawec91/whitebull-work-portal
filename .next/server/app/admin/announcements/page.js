(()=>{var e={};e.id=458,e.ids=[458],e.modules={53524:e=>{"use strict";e.exports=require("@prisma/client")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},73292:e=>{"use strict";e.exports=require("fs/promises")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},14247:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{GlobalError:()=>d.a,__next_app__:()=>x,originalPathname:()=>h,pages:()=>p,routeModule:()=>b,tree:()=>f});var n=a(63425);a(55230);var r=a(66877);a(52075);var i=a(32504),l=a(25932),c=a(66550),d=a.n(c),o=a(86979),u={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>o[e]);a.d(t,u);var m=e([n,r]);[n,r]=m.then?(await m)():m;let f=["",{children:["admin",{children:["announcements",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,63425)),"C:\\Users\\lukasz\\Desktop\\Work\\cms\\cmsv0.0.1\\app\\admin\\announcements\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,55230)),"C:\\Users\\lukasz\\Desktop\\Work\\cms\\cmsv0.0.1\\app\\admin\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,66877)),"C:\\Users\\lukasz\\Desktop\\Work\\cms\\cmsv0.0.1\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,52075,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,57481))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["C:\\Users\\lukasz\\Desktop\\Work\\cms\\cmsv0.0.1\\app\\admin\\announcements\\page.tsx"],h="/admin/announcements/page",x={require:a,loadChunk:()=>Promise.resolve()},b=new i.AppPageRouteModule({definition:{kind:l.x.APP_PAGE,page:"/admin/announcements/page",pathname:"/admin/announcements",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:f}});s()}catch(e){s(e)}})},9325:(e,t,a)=>{let s={c63aeaa18f65877d3130fff0d5e37beea85fd93c:()=>Promise.resolve().then(a.bind(a,65234)).then(e=>e.annoucementDelete)};async function n(e,...t){return(await s[e]()).apply(null,t)}e.exports={c63aeaa18f65877d3130fff0d5e37beea85fd93c:n.bind(null,"c63aeaa18f65877d3130fff0d5e37beea85fd93c")}},39774:(e,t,a)=>{Promise.resolve().then(a.bind(a,47902)),Promise.resolve().then(a.bind(a,33850)),Promise.resolve().then(a.bind(a,73632))},33281:(e,t,a)=>{Promise.resolve().then(a.bind(a,61091)),Promise.resolve().then(a.t.bind(a,92481,23)),Promise.resolve().then(a.t.bind(a,79404,23))},61888:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,12994,23)),Promise.resolve().then(a.t.bind(a,96114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,79671,23)),Promise.resolve().then(a.t.bind(a,41868,23)),Promise.resolve().then(a.t.bind(a,84759,23))},99383:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,92481,23)),Promise.resolve().then(a.t.bind(a,79404,23))},88111:(e,t,a)=>{"use strict";a.d(t,{C2:()=>d,FJ:()=>o,Ue:()=>n,a$:()=>c,aM:()=>i,jr:()=>r,p5:()=>l}),a(15424);var s=a(46242),n=(0,s.$)("6065c3cbc6cb29dc2b400a395b9d90362dfc4ecb"),r=(0,s.$)("9cc731d2157f2fcae6e40ec6a95e0b751af1f15a"),i=(0,s.$)("c63aeaa18f65877d3130fff0d5e37beea85fd93c"),l=(0,s.$)("f9767a0d54b2dea4424b38c11f44a71db005b9b9"),c=(0,s.$)("d1d1eb00f4c13f1078a7e23d8a51e59d7dd2ff39"),d=(0,s.$)("2a4d6cc39f29b1423576b71c5dc628dcbdcb0ef9"),o=(0,s.$)("acb9420327264311dbe49aca6b283d1861e59f28")},47902:(e,t,a)=>{"use strict";a.d(t,{default:()=>l});var s=a(10326),n=a(17577),r=a(77109),i=a(90434);function l({adminList:e}){let{data:t}=(0,r.useSession)(),[a,l]=(0,n.useState)(!1);return console.log("adminini",a),console.log("adminlist",e),s.jsx("div",{children:a?s.jsx(i.default,{href:"/admin",className:"text-black",children:"Panel Administracyjny"}):s.jsx(s.Fragment,{})})}},61091:(e,t,a)=>{"use strict";a.d(t,{default:()=>i});var s=a(10326),n=a(90434),r=a(88111);function i({annData:e}){let t=e=>{r.aM(e)};return s.jsx("div",{children:e.map(e=>(0,s.jsxs)("div",{className:"flex gap-2 items-center p-4 justify-between border-b-[1px] border-black",children:[(0,s.jsxs)(n.default,{href:`/ogloszenia/${e.id}`,className:"flex gap-2 items-center justify-between w-full",children:[(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl",children:e.title}),s.jsx("p",{className:"text-sm text-gray-500",children:e.location})]}),s.jsx("div",{children:(0,s.jsxs)("p",{children:[e.salary," zł / godz. brutto"]})})]},`${e.title}`),(0,s.jsxs)("div",{className:"flex items-center gap-4 ml-48",children:[s.jsx(n.default,{href:`/admin/announcements/${e.id}/edit`,className:"px-6 py-2 bg-green-800 rounded-full text-white",children:"Edytuj"}),s.jsx("button",{className:"px-6 py-2 bg-red-600 rounded-full text-white",onClick:()=>t(e.id),children:"Usuń"})]})]},`${e.title}-d`))},"table")}},33850:(e,t,a)=>{"use strict";a.d(t,{default:()=>c});var s=a(10326),n=a(17577),r=a(90434),i=a(46226),l=a(77109);let c=()=>{let{data:e}=(0,l.useSession)(),[t,a]=(0,n.useState)(null),[c,d]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{(async()=>{a(await (0,l.getProviders)())})()},[]),(0,s.jsxs)("div",{className:"h-[100px] px-4 border-b-[1px] border-black flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center justify-center gap-4",children:[s.jsx(r.default,{href:"/",children:s.jsx(i.default,{width:150,height:150,src:"/assets/images/logo.png",alt:"WhiteBull logo",className:"object-contain"})}),s.jsx("h3",{className:"text-2xl sm:flex hidden",children:"Praca w WhiteBull."})]}),s.jsx("div",{className:"flex items-center justify-center",children:e?.user?(0,s.jsxs)("div",{className:"items-center justify-center gap-4 sm:flex hidden",children:[s.jsx(r.default,{href:"/profile",className:"black_btn",children:"Profil"}),s.jsx("button",{onClick:()=>(0,l.signOut)(),type:"button",className:"outline_btn",children:"Wyloguj"}),s.jsx(r.default,{href:"/profile",children:s.jsx(i.default,{src:`${e?.user.image}`,width:37,height:37,className:"rounded-full",alt:"profile"})})]}):s.jsx(s.Fragment,{children:s.jsx(r.default,{href:"/auth/login",children:"Zaloguj"})})}),s.jsx("div",{className:"sm:hidden flex relative",children:e?.user?(0,s.jsxs)("div",{className:"flex flex-col gap-2 absolute right-0 top-full w-full rounded-lg bg-white min-w-[210px] justify-end items-end -mt-3",children:[s.jsx(i.default,{src:"/assets/images/logo.png",width:37,height:37,className:"rounded-full",alt:"profile",onClick:()=>{d(e=>!e)}}),c&&(0,s.jsxs)("div",{className:"p-5 w-full flex flex-col items-end",children:[s.jsx(r.default,{href:"/profile",onClick:()=>d(!1),children:"M\xf3j Profil"}),s.jsx("button",{type:"button",onClick:()=>{d(!1),(0,l.signOut)()},className:"mt-5 w-full black_btn",children:"Wyloguj"})]})]}):s.jsx(s.Fragment,{})})]})}},73632:(e,t,a)=>{"use strict";a.d(t,{default:()=>r});var s=a(10326),n=a(77109);function r({children:e},t){return s.jsx(n.SessionProvider,{session:t,children:e})}},65234:(e,t,a)=>{"use strict";a.r(t),a.d(t,{annoucementDelete:()=>o,annoucmentEdit:()=>d,aplicationDelete:()=>p,createAplication:()=>f,importantDocumentDelete:()=>u,registerUser:()=>m,userDocumentDelete:()=>h});var s=a(66694);a(89256);let n=new(a(53524)).PrismaClient;var r=a(43223),i=a(31350),l=a(71017),c=a(73292);async function d(e){let t=parseInt(e.get("id")),a=e.get("title"),s=e.get("salary"),d=e.get("image")||null;e.get("video");let o=e.get("description"),u=Buffer.from(await d.arrayBuffer()),m=`/uploads/documents/${new Date(Date.now()).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}).replace(/\//g,"-")}`,f=(0,l.join)(process.cwd(),"public",m);try{await (0,c.stat)(f)}catch(e){"ENOENT"===e.code&&await (0,c.mkdir)(f,{recursive:!0})}let p=`${Date.now()}-${Math.round(1e9*Math.random())}`,h=`${d.name.replace(/\.[^/.]+$/,"")}-${p}.${i.Z.getExtension(d.type)}`;await (0,c.writeFile)(`${f}/${h}`,u);let x=`${m}/${h}`;await n.annoucment.findUnique({where:{id:t}}),await n.annoucment.update({where:{id:t},data:{title:a,salary:s,image:x,video:x,description:o,location:"ul.Mostowa 36, 87-100 Toruń"}}),(0,r.redirect)("/admin/announcements")}async function o(e){await n.annoucment.delete({where:{id:e}}),(0,r.redirect)("/admin/announcements")}async function u(e){await n.importantDocuments.delete({where:{id:e}}),(0,r.redirect)("/admin/importantdocuments")}async function m(e){try{let{firstName:t,lastName:a,email:s,password:r,confirmedPassword:i}=e;return r!==i||await n.user.findUnique({where:{email:s}})||(console.log("user not exist-------"),await n.user.create({data:{firstName:t,lastName:a,email:s,password:r,emailVerified:!1,role:"user",profileImageUrl:""}})),Response.redirect(`${process.env.NEXTAUTH_URL}/`)}catch(e){return console.log(e),new Response(JSON.stringify({message:"error"}),{status:500})}}async function f(e){try{let t=await n.documents.findMany({where:{userEmail:e,documentType:"cv"}});return await n.aplicationData.create({data:{annoucmentTitle:"",userEmail:e,userProfileImageUrl:"",userCvUrl:t[0].documentUrl}}),Response.redirect(`${process.env.NEXTAUTH_URL}/`)}catch(e){return console.log(e),new Response(JSON.stringify({message:"error"}),{status:500})}}async function p(e){await n.aplicationData.delete({where:{id:e}}),(0,r.redirect)("/admin/aplication")}async function h(e){await n.documents.delete({where:{id:e}}),(0,r.redirect)("/profile")}(0,a(17539).h)([d,o,u,m,f,p,h]),(0,s.j)("9cc731d2157f2fcae6e40ec6a95e0b751af1f15a",d),(0,s.j)("c63aeaa18f65877d3130fff0d5e37beea85fd93c",o),(0,s.j)("f9767a0d54b2dea4424b38c11f44a71db005b9b9",u),(0,s.j)("d1d1eb00f4c13f1078a7e23d8a51e59d7dd2ff39",m),(0,s.j)("2a4d6cc39f29b1423576b71c5dc628dcbdcb0ef9",f),(0,s.j)("acb9420327264311dbe49aca6b283d1861e59f28",p),(0,s.j)("6065c3cbc6cb29dc2b400a395b9d90362dfc4ecb",h)},63425:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>o});var n=a(84150),r=a(74894),i=a(45580);a(92461);var l=a(23187),c=a(13794),d=e([c]);async function o(){let e=(await l.db.annoucment.findMany()).map(e=>({id:e.id,title:e.title,salary:e.salary,image:e.image,video:e.video,description:e.description,location:e.location}));return(0,n.jsxs)("div",{className:"relative",children:[n.jsx("div",{children:n.jsx(c.Z,{annData:e})}),(0,n.jsxs)(i.default,{href:"/admin/announcements/new",className:" fixed bottom-16 right-5 flex items-center gap-1 hover:bg-red-400 hover:text-white pl-2 rounded-xl",children:[n.jsx("div",{className:"text-lg pl-2",children:"Dodaj ogłoszenie"}),n.jsx(r.default,{alt:"plus-icon",src:"/assets/icons/plus.png",height:56,width:56,className:"bg-red-400 rounded-full p-2"})]})]})}c=(d.then?(await d)():d)[0],s()}catch(e){s(e)}})},55230:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(84150);a(92461);var n=a(45580),r=a(74894);let i=()=>{let e=[{name:"Ogłoszenia",link:"/admin/announcements",image:"/assets/icons/paper.png"},{name:"Aplikacje",link:"/admin/aplication",image:"/assets/icons/people.png"},{name:"Dokumenty Rekrutacjne",link:"/admin/importantdocuments",image:"/assets/icons/docs-wait.png"},{name:"Użytkownicy (w przygotowaniu)",link:"/admin/users",image:"/assets/icons/users.png"},{name:"Pracownicy (w przygotowaniu)",link:"/admin/workers",image:"/assets/icons/worker.png"},{name:"Raporty (w przygotowaniu)",link:"/admin/reports",image:"/assets/icons/reports.png"}];return s.jsx("div",{className:"w-full h-full border-r-[1px] border-black flex flex-col",children:e.map((t,a)=>s.jsx(n.default,{href:t.link,className:`${e.length-1===a?"border-none":"border-b-[1px] border-black"} hover:bg-gray-300`,children:(0,s.jsxs)("div",{className:"flex p-3 items-center justify-start gap-4",children:[s.jsx(r.default,{src:t.image,height:34,width:34,alt:"menuIcon"}),t.name]})},`${t.name}-${t.link}`))})},l=({children:e})=>(0,s.jsxs)("div",{className:"h-[calc(100vh_-_150px)] max-w-screen flex",children:[s.jsx("div",{className:"w-1/6 h-full",children:s.jsx(i,{})}),s.jsx("div",{className:"w-5/6 min-h-[calc(100vh_-_150px)] overflow-auto",children:e})]})},515:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>e});var n=a(71851);let e=(await (0,n.createProxy)(String.raw`C:\Users\lukasz\Desktop\Work\cms\cmsv0.0.1\app\components\AdminPanelEntrance.tsx`)).default;s()}catch(e){s(e)}},1)},13794:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>e});var n=a(71851);let e=(await (0,n.createProxy)(String.raw`C:\Users\lukasz\Desktop\Work\cms\cmsv0.0.1\app\components\AnnoucementsListTable.tsx`)).default;s()}catch(e){s(e)}},1)},49208:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>c});var n=a(84150);a(92461);var r=a(23187),i=a(515),l=e([i]);async function c(){let e=await r.db.user.findMany({where:{role:"admin"}});return(0,n.jsxs)("div",{className:"h-[50px] flex items-center justify-between px-4 border-t-[1px] border-black",children:[n.jsx("div",{children:"\xa9 2024 WhiteBull. All rights reserved."}),n.jsx("div",{children:n.jsx(i.Z,{adminList:e})})]})}i=(l.then?(await l)():l)[0],s()}catch(e){s(e)}})},70852:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>e});var n=a(71851);let e=(await (0,n.createProxy)(String.raw`C:\Users\lukasz\Desktop\Work\cms\cmsv0.0.1\app\components\Header.tsx`)).default;s()}catch(e){s(e)}},1)},38025:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.d(t,{Z:()=>e});var n=a(71851);let e=(await (0,n.createProxy)(String.raw`C:\Users\lukasz\Desktop\Work\cms\cmsv0.0.1\app\components\Provider.tsx`)).default;s()}catch(e){s(e)}},1)},23187:(e,t,a)=>{"use strict";a.d(t,{db:()=>s});let s=new(a(53524)).PrismaClient},66877:(e,t,a)=>{"use strict";a.a(e,async(e,s)=>{try{a.r(t),a.d(t,{default:()=>d,metadata:()=>o});var n=a(84150);a(67272);var r=a(49208),i=a(70852),l=a(38025),c=e([r,i,l]);[r,i,l]=c.then?(await c)():c;let o={title:"WhiteBull Praca",description:"Praca w SteakHouse & BourboneBar WhiteBull"};function d({children:e}){return n.jsx("html",{lang:"pl",suppressHydrationWarning:!0,children:n.jsx("body",{children:(0,n.jsxs)(l.Z,{children:[n.jsx(i.Z,{}),e,n.jsx(r.Z,{})]})})})}s()}catch(e){s(e)}})},57481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>n});var s=a(40771);let n=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},67272:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[424,359,771,592,940],()=>a(14247));module.exports=s})();